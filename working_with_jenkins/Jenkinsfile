node{
	properties([[$class: 'ScannerJobProperty', doNotScan: false], parameters([password(defaultValueAsSecret: <object of type hudson.util.Secret>, name: 'Password')]), [$class: 'JobLocalConfiguration', changeReasonComment: '']])
	stage('Cleanup'){
		cleanWs()
	}
	stage('Git'){
		checkout scm
	}
	stage('Build'){
		echo "Use the password in a command: " + env.Password
		try{
			dotnetBuild project: env.WORKSPACE + '/working_with_jenkins/dotnet_code/ArlingtonThisWeek/ArlingtonThisWeek.sln', sdk: 'dotnet6'
		} catch(Exception e){
			echo e.toString()
			archiveArtifacts artifacts: '**/*.*', followSymlinks: false
			cleanWs()
		}
	}
	stage('Test'){
		echo 'Run unit tests'
	}
	stage('Artifact'){
		archiveArtifacts artifacts: '**/*.*', followSymlinks: false
	}
	stage('Cleanup'){
		cleanWs()
	}
}